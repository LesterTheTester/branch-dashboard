<head>
  <title>branch-dashboard</title>
</head>

<body>
</body>

<template name="home">
  {{> branches}}
</template>

<template name="branches">

  <!--
  Displayed branches are inserted in the order of:
  master, hotfix-*, bugfix-*, release-*, develop, feature-*
  -->

  {{#with master}}
    {{> branch}}
  {{/with}}
 
  {{#each hotfixes}}
    {{> branch}}
  {{/each}}

  {{#each bugfixes}}
    {{> branch}}
  {{/each}}

  {{#each releases}}
    {{> branch}}
  {{/each}}

  {{#with develop}}
    {{> branch}}
  {{/with}}

  {{#each features}}
    {{> branch}}
  {{/each}}

</template>

<template name="branch">
  <div class="branch branch-{{branchName}} {{BranchStatus}}">
    <div class="branch-title">
    <h3>{{branchName}}</h3>
    </div>
    <ol>
      <li><small>{{commitHash}}</small></li>
      <li><small data-livestamp="{{TSModified}}"></small></li>
    </ol>
    <ol class="status">
      {{#each failures}} 
        <li class="text-danger">{{ . }}</li>
      {{/each}}
      {{#each inProgress}} 
        <li class="text-warning">{{ . }}</li>
      {{/each}}
      {{#each unknowns}} 
        <li class="text-muted">{{ . }}</li>
      {{/each}}
      {{#each successes}} 
        <li class="text-success">{{ . }}</li>
      {{/each}}
    </ol>
  </div>
</template>
